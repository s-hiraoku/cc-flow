<poml>
  <meta minVersion="0.0.8" />

  <!-- 変数定義 -->
  <let name="workflow_agents" value="['spec-design', 'spec-impl', 'spec-init']" />
  <let name="workflow_context" value="'sequential agent execution'" />
  <let name="user_task" value="'workflow execution'" />

  <role>spec-workflow Workflow Orchestrator</role>

  <task>
    User Instruction: {{user_task}}
    Context: {{workflow_context}}

    Execute sequential workflow with the following sub-agents:

    <p for="agent in workflow_agents">
      **Step {{loop.index}} of {{loop.length}}: Execute {{agent}}**

      - Task: {{agent}}
      - Context: {{workflow_context}}
      - User Input: {{user_task}}

      Call: `claude subagent "{{agent}}" "{{user_task}}"`

      Expected Output Format:
      → {{agent}}: [response]
    </p>

    **Final Step: Consolidation**
    - Aggregate all sub-agent responses
    - Return consolidated workflow output
  </task>

  <output-format>
    For each sub-agent execution:
    → [agent-name]: [response]

    Final output:
    ✅ Workflow completed
  </output-format>

  <!-- Workflow Configuration Templates -->

</poml>